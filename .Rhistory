}
})
numeros <- 1:10000
system.time({
teste1 = c()
for (x in numeros){
y = x*10
z = sqrt(y)
teste1 = c(teste1, z)
}
})
5846/60
97.43333/60
library(lubridate)
seconds_to_period(5846)
numeros <- 1:1000000
system.time({
teste1 = vector(mode="numeric", length=1000000)
for (x in numeros){
y = x*10
z = sqrt(y)
teste1[x] = z
}
})
system.time({
test=NULL
for (x in numeros){
y = x*10
z = sqrt(y)
teste1[x] = z
}
})
library(microbenchmark)
microbenchmark(
test=NULL
for (x in numeros){
y = x*10
z = sqrt(y)
teste1[x] = z
}
)
microbenchmark(
for (x in numeros){
y = x*10
z = sqrt(y)
teste1[x] = z
}
)
?map
t<-numeros %>%
map(function(x){
y=x*10
z=sqrt(y)
return(z)
}
t<-numeros %>%
map(function(x)){
y=x*10
z=sqrt(y)
return(z)
}
t<-numeros %>%
map(sqrt)
t
t<-numeros %>%
map(sqrt) %>%
map(*100)
t<-numeros %>%
map(sqrt) %>%
map(x*100)
rm(x)
t<-numeros %>%
map(sqrt) %>%
map(x*100)
t<-numeros %>%
map(sqrt) %>%
map(.*100)
t<-numeros %>%
map(sqrt) %>%
map(.n*100)
t<-numeros %>%
map(sqrt) %>%
map(function(x) x*100)
t
temp<-tempfile()
download.file("http://cloud.josejesus.info/index.php/s/lhtvzI6PAzF6Shu/download",temp)
load(temp)
temp<-tempfile()
download.file("http://cloud.josejesus.info/index.php/s/lhtvzI6PAzF6Shu/download",temp)
load(temp)
View(ina_xts)
ina_xts
View(ina)
library(dygraphs)
months(0:11)
floor_date(jan,"month")
?my
dmy("01-01-2011")
dmy("01-01-2011")+months(0:11)
dmy("01-01-2011")+months(0:11)+years(1:5)
dmy("01-01-2011")+months(0:11)+years(2011:2016)
dmy("01-01-2011")+months(0:11)
?dmy
dmy("01-01-2011")+months(0:40)
dmy("01-01-2011")+months(0:72)
dmy("01-01-2011")+months(0:60)
dmy("01-01-2011")+months(0:70)
dmy("01-01-2011")+months(0:71)
lubridate::dmy("01-01-2011")+months(0:71)
?seq(20,40,50)
seq(20,40,50)
seq(0,71,4)
seq(0,71*4,4)
data.frame(val<-dmy("01-01-2011")+months(0:71),seq(0,71*4,4))
df<-data.frame(val<-dmy("01-01-2011")+months(0:71),seq(0,71*4,4))
df_xtx<-as.xtx(df[1],order.by(df$ano))
library(dygraphs)
df_xtx<-as.xtx(df[1],order.by(df$ano))
library(zoo)
df_xtx<-as.xtx(df[1],order.by(df$ano))
library(xts)
df_xtx<-as.xtx(df[1],order.by(df$ano))
df_xtx<-as.xts(df[1],order.by(df$ano))
?as.xts
df_xtx<-as.xts(df[1],order.by=df$an))
df_xtx<-as.xts(df[1],order.by=df$ano)
df<-data.frame(ano=dmy("01-01-2011")+months(0:71),val=seq(0,71*4,4))
df_xtx<-as.xts(df[1],order.by=df$ano)
View(df_xtx)
df_xtx<-as.xts(df[2],order.by=df$ano)
dygraph(df_xts)
dygraph(df_xtx)
minha_funcao<-function(x,y){
y=x*10
z=sqrt(y)
}
minha_funcao<-function(x,y){
y=x*10
z=sqrt(y)
return(z)
}
numeros <- 1:1000000
numeros <- 1:10000
teste<-map(numeros,minha_funcao)
teste
numeros <- 1:1000000
teste<-map(numeros,minha_funcao)
Sys.time({
teste<-map(numeros,minha_funcao)
})
system.time({
teste<-map(numeros,minha_funcao)
})
system.time({
teste1 = vector(mode="numeric", length=1000000)
for (x in numeros){
y = x*10
z = sqrt(y)
teste1[x] = z
}
})
system.time({
teste<-map2(numeros,minha_funcao)
})
minha_funcao<-function(x){
y=x*10
z=sqrt(y)
return(z)
}
system.time({
teste<-map(numeros,minha_funcao)
})
1.716/60
1.716/60/60
numeros <- 1:1000000
system.time({
teste1 = vector(mode="numeric", length=1000000)
for (x in numeros){
y = x*10
z = sqrt(y)
teste1[x] = z
}
})
system.time({
teste<-map(numeros,minha_funcao)
})
system.time({
teste<-map(numeros,function(x) {
y=x*100
z=sqrt(y)
return(z)
})
})
system.time({
teste<-map(numeros,function(x) {
y=x*100
z=sqrt(y)
return(z)
})
})
s<-GET("http://www5.tjmg.jus.br/jurisprudencia/formEspelhoAcordao.do")
library(httr)
s<-GET("http://www5.tjmg.jus.br/jurisprudencia/formEspelhoAcordao.do")
s
s$headers
s$status_code
s$all_headers
s$cookies
s$content
s1<-content(s,as="text")
s1
s1
s1<-content(s,as="text")
url<-"http://www5.tjmg.jus.br/jurisprudencia/pesquisaPalavrasEspelhoAcordao.do;jsessionid=E49B381F040EE28E1363DDFD7BBA8A85.juri_node2?numeroRegistro=1&totalLinhas=1&palavras=%22livramento+condicional%22&pesquisarPor=ementa&pesquisaTesauro=true&orderByData=1&codigoOrgaoJulgador=&codigoCompostoRelator=&dataPublicacaoInicial=&dataPublicacaoFinal=&dataJulgamentoInicial=&dataJulgamentoFinal=&siglaLegislativa=&referenciaLegislativa=Clique+na+lupa+para+pesquisar+as+refer%EAncias+cadastradas...&numeroRefLegislativa=&anoRefLegislativa=&legislacao=&norma=&descNorma=&complemento_1=&listaPesquisa=&descricaoTextosLegais=&observacoes=&linhasPorPagina=10&pesquisaPalavras=Pesquisar
url<-"http://www5.tjmg.jus.br/jurisprudencia/pesquisaPalavrasEspelhoAcordao.do;jsessionid=E49B381F040EE28E1363DDFD7BBA8A85.juri_node2?numeroRegistro=1&totalLinhas=1&palavras=%22livramento+condicional%22&pesquisarPor=ementa&pesquisaTesauro=true&orderByData=1&codigoOrgaoJulgador=&codigoCompostoRelator=&dataPublicacaoInicial=&dataPublicacaoFinal=&dataJulgamentoInicial=&dataJulgamentoFinal=&siglaLegislativa=&referenciaLegislativa=Clique+na+lupa+para+pesquisar+as+refer%EAncias+cadastradas...&numeroRefLegislativa=&anoRefLegislativa=&legislacao=&norma=&descNorma=&complemento_1=&listaPesquisa=&descricaoTextosLegais=&observacoes=&linhasPorPagina=10&pesquisaPalavras=Pesquisar"
url<-"http://www5.tjmg.jus.br/jurisprudencia/pesquisaPalavrasEspelhoAcordao.do;jsessionid=E49B381F040EE28E1363DDFD7BBA8A85.juri_node2?numeroRegistro=1&totalLinhas=1&palavras=%22livramento+condicional%22&pesquisarPor=ementa&pesquisaTesauro=true&orderByData=1&codigoOrgaoJulgador=&codigoCompostoRelator=&dataPublicacaoInicial=&dataPublicacaoFinal=&dataJulgamentoInicial=&dataJulgamentoFinal=&siglaLegislativa=&referenciaLegislativa=Clique+na+lupa+para+pesquisar+as+refer%EAncias+cadastradas...&numeroRefLegislativa=&anoRefLegislativa=&legislacao=&norma=&descNorma=&complemento_1=&listaPesquisa=&descricaoTextosLegais=&observacoes=&linhasPorPagina=10&pesquisaPalavras=Pesquisar"
u<-GET(url)
u_aud <- 'http://www5.tjmg.jus.br/jurisprudencia/captchaAudio.svl'
httr::GET(u_aud, httr::write_disk(arq_aud, overwrite = TRUE),set_cookies(unlist(u$cookies)))
arq_img<-"imagem.png"
arq_aud<-"audio.mpg"
folder_img <- dirname(arq_img)
folder_aud <- dirname(arq_aud)
httr::GET(u_aud, httr::write_disk(arq_aud, overwrite = TRUE),set_cookies(unlist(u$cookies)))
library(tjsp)
library(sjPlot)
library(Hmisc)
sjt.df(mtcars)
?sjt.df
library(Hmisc)
sjt.df(mtcars)
sjt.df(mtcars,describe=T)
describe(mtcars)
tab <- mtcars %>%
group_by(am, vs) %>%
nest() %>%
mutate(quartis = map(data, ~enframe(quantile(.x$mpg, 1:3 / 4)))) %>%
unnest(quartis) %>%
spread(name, value)
tab
library(dplyr)
library(purrr)
tab <- mtcars %>%
group_by(am, vs) %>%
nest() %>%
mutate(quartis = map(data, ~enframe(quantile(.x$mpg, 1:3 / 4)))) %>%
unnest(quartis) %>%
spread(name, value)
tab
library(tidyr)
tab <- mtcars %>%
group_by(am, vs) %>%
nest() %>%
mutate(quartis = map(data, ~enframe(quantile(.x$mpg, 1:3 / 4)))) %>%
unnest(quartis) %>%
spread(name, value)
tab
library(tibble)
tab <- mtcars %>%
group_by(am, vs) %>%
nest() %>%
mutate(quartis = map(data, ~enframe(quantile(.x$mpg, 1:3 / 4)))) %>%
unnest(quartis) %>%
spread(name, value)
tab
names(mtcars)
sjt.df(mtcars[8:9])
str(mtcars)
a<-mtcars
View(a)
sjt.df(a)
b<-describe(mtcars[8:9])
b
b<-describe(mtcars[8:9])
b
b<-describe(mtcars)
b
library(pastecs)
?extract
stat.desc(mtcars)
describe(mtcars)
View(a)
library(factoextra)
?fviz_pca_biplot
ir.pca <- prcomp(iris[,1:4])
fviz_pca_biplot(ir.pca)
fviz_pca_biplot(ir.pca,geom="point")
fviz_pca_biplot(ir.pca,geom="point")
fviz_pca_biplot(ir.pca,geom="point",shape="species")
fviz_pca_biplot(ir.pca,geom="point")+ggplot(shape=Species)
fviz_pca_biplot(ir.pca,geom="point")+ggplot(iris,shape=Species)
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_discrete(solid=F, legend=F)
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_discrete(solid=F)
?scale_shape
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_discrete(solid=T)
fviz_pca_biplot(ir.pca,geom="point")+geom_point(shape="a")
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_manual(values=c("a","b"))
ir.pca
ir.pca$x
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_manual(values=PC1)
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_manual(values=c(PC1,PC2))
?fviz_pca_biplot
iris[,1:4]
iris
ir.pca<-princomp(iris[,1:4])
fviz_ca_biplot(ir.pca,habillage=iris$Species)
fviz_ca_biplot(ir.pca,habillage=iris[5])
library(FactoMineR)
?PCA
ir.pca<-PCA(iris,quali.sup = 5)
ir.pca<-PCA(iris,quali.sup = 5,graph=F)
fviz_pca_ind(ir.pca)
fviz_pca_ind(ir.pca,geom="point",habillage = 5)
ggsave("pca_iris.png")
install.packages("condformat")
library(condformat)
s<-readRDS("LeiMariaPenha3.rds")
View(s)
s<-readRDS("LeiMariaPenha2.rds")
s<-readRDS("LeiMariaPenha.rds")
load("~/Documents/penha.rda")
View(assunto)
s<-condformat(assunto)
View(s)
s+rule_fill_gradient(frequencia)
s<-s+rule_fill_gradient(frequencia)
plot(s)
View(s)
s
condformat(iris[1:5,])
condformat2widget(iris[1:5,])
?rule_fill_discrete
condformat2widget(iris)+rule_fill_discrete(Species)
condformat2widget(iris)+ rule_fill_discrete(Sepal.Length, expression=Sepal.Length > 4.6,
colours=c("TRUE"="red"))
condformat2widget(iris)
?duplicated
library(RSelenium)
vignette("RSelenium-docker", package = "RSelenium")
setwd("~/Documents/tjsp/data")
x<-readRDS("swp.rds")
setwd("~/Documents/tjsp")
devtools::use_data(x,stop_words.pt)
devtools::use_data(x,stop_words_pt)
devtools::use_data(x,stop_words_pt,overwrite = T)
devtools::use_data(x,stop_words_pt,overwrite = T)
library(devtools)
?use_data
stop_words_pt<-x
use_data(stop_words_pt)
packrat::restore(prompt = FALSE)
s<-c("a","b","c")
s1<-c("a","b")
limpa<-function(texto){
require(dplyr)
text<-stringi::stri_trans_general(texto,"Latin-ASCII")
text<-tolower(text)
text<-stringr::str_replace_all(text,"")
text<-tm::removePunctuation(text)
text<-tm::stripWhitespace(text)
text<-tim:removeNumbers(text)
return(text)
}
document()
library(roxygen2)
install.packages("roxygen2")
document()
library(roxygen2)
document()
??document
library(devtools)
document()
document()
install.packages("TM")
document()
install.packages("tm")
document()
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
setwd("~/Documents/Bubu")
setwd("~/Documents/Bubu")
library(tjsp)
df<-read("df.rds")
df<-readRDS("df.rds")
limpar
View(df)
s<-limpar(df$ementa)
class(df$ementa)
s<-limpar(as.character(df$ementa))
limpar
devtools::install_github("jjesusfilho/tjsp")
setwd("~/Documents/tjsp/R")
setwd("~/Documents/tjsp")
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
s<-limpar(df$ementa)
library(tm)
s<-limpar(df$ementa)
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
s<-limpar(df$ementa)
s
devtools::install_github("hilaryparker/explainr")
library(explainr)
f<-m <- lm(mpg ~ wt + mpg, mtcars)
explainr::explain(m)
m <- lm(mpg ~ wt + mpg, mtcars)
explainr::explain(m)
explainr::explain(m,"visual")
library(tm)
?stopwords()
library(tjsp)
setwd("~/Documents/Bubu")
df<-readRDS("df.rds")
s<-limpar(df$ementa)
s
s[[1]]
s2<-removeWords(s,stopwords(kind="pt"))
s2
s<-pricomp(iris[1:4])
s<-princomp(iris[1:4])
s
class(s)
explainr::explain(s)
library(textclean)
install.packages("textclean")
cleanPt<-function(x,lower=T,stopwords=T,accent=T,punctuation=T,whitespace=T,numbers=T,ordinal=T){
if (lower)
x<-tolower(x)
if (stopwords)
x<=tm::removeWords(x,stopword(kind="pt"))
if (accent)
x<-stringi::stri_trans_general(x,"Latin-ASCII")
if (punctuation)
x = str_replace_all(x,"[[:punct:]]", "")
if (whitespace) {
x = str_replace_all(x,"[ \t]{2,}", " ")
x = str_replace_all(x,"^\\s+|\\s+$", "")
}
if(numbers)
x<-str_replace_all(x,"[[:digit:]]","")
if (ordinal)
x<-str_replace_all(x,"(º|ª)","")
return(x)
}
a<-"arrroz . ), favor de suspiro 123,"
cleanPt(a)
cleanPt<-function(x,lower=T,stopwords=T,accent=T,punctuation=T,whitespace=T,numbers=T,ordinal=T){
if (lower)
x<-tolower(x)
if (stopwords)
x<=tm::removeWords(x,tm::stopword(kind="pt"))
if (accent)
x<-stringi::stri_trans_general(x,"Latin-ASCII")
if (punctuation)
x = str_replace_all(x,"[[:punct:]]", "")
if (whitespace) {
x = str_replace_all(x,"[ \t]{2,}", " ")
x = str_replace_all(x,"^\\s+|\\s+$", "")
}
if(numbers)
x<-str_replace_all(x,"[[:digit:]]","")
if (ordinal)
x<-str_replace_all(x,"(º|ª)","")
return(x)
}
cleanPt(a)
cleanPt<-function(x,lower=T,stopwords=T,accent=T,punctuation=T,whitespace=T,numbers=T,ordinal=T){
if (lower)
x<-tolower(x)
if (stopwords)
x<=tm::removeWords(x,tm::stopwords(kind="pt"))
if (accent)
x<-stringi::stri_trans_general(x,"Latin-ASCII")
if (punctuation)
x = str_replace_all(x,"[[:punct:]]", "")
if (whitespace) {
x = str_replace_all(x,"[ \t]{2,}", " ")
x = str_replace_all(x,"^\\s+|\\s+$", "")
}
if(numbers)
x<-str_replace_all(x,"[[:digit:]]","")
if (ordinal)
x<-str_replace_all(x,"(º|ª)","")
return(x)
}
cleanPt(a)
library(stringr)
cleanPt(a)
a
a<-"arroz favor de suspiro jdajjdiajdijado  DAJDADJAKDJALKDJ      123º"
cleanPt(a)
library(roxygen2)
library(devtools)
document()
warnings()
document()
document()
document()
document()
document()
document()
document()
document()
library(tjsp)
a<-"maria djkjdklajldk IIII123"
clearPt(a)
?tjsg_meta
?tjsg_meta
?clearPt
?clearPt
setwd("~/Documents/tjsp")
