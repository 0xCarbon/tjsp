View(a)
sjt.df(a)
b<-describe(mtcars[8:9])
b
b<-describe(mtcars[8:9])
b
b<-describe(mtcars)
b
library(pastecs)
?extract
stat.desc(mtcars)
describe(mtcars)
View(a)
library(factoextra)
?fviz_pca_biplot
ir.pca <- prcomp(iris[,1:4])
fviz_pca_biplot(ir.pca)
fviz_pca_biplot(ir.pca,geom="point")
fviz_pca_biplot(ir.pca,geom="point")
fviz_pca_biplot(ir.pca,geom="point",shape="species")
fviz_pca_biplot(ir.pca,geom="point")+ggplot(shape=Species)
fviz_pca_biplot(ir.pca,geom="point")+ggplot(iris,shape=Species)
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_discrete(solid=F, legend=F)
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_discrete(solid=F)
?scale_shape
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_discrete(solid=T)
fviz_pca_biplot(ir.pca,geom="point")+geom_point(shape="a")
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_manual(values=c("a","b"))
ir.pca
ir.pca$x
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_manual(values=PC1)
fviz_pca_biplot(ir.pca,geom="point")+scale_shape_manual(values=c(PC1,PC2))
?fviz_pca_biplot
iris[,1:4]
iris
ir.pca<-princomp(iris[,1:4])
fviz_ca_biplot(ir.pca,habillage=iris$Species)
fviz_ca_biplot(ir.pca,habillage=iris[5])
library(FactoMineR)
?PCA
ir.pca<-PCA(iris,quali.sup = 5)
ir.pca<-PCA(iris,quali.sup = 5,graph=F)
fviz_pca_ind(ir.pca)
fviz_pca_ind(ir.pca,geom="point",habillage = 5)
ggsave("pca_iris.png")
install.packages("condformat")
library(condformat)
s<-readRDS("LeiMariaPenha3.rds")
View(s)
s<-readRDS("LeiMariaPenha2.rds")
s<-readRDS("LeiMariaPenha.rds")
load("~/Documents/penha.rda")
View(assunto)
s<-condformat(assunto)
View(s)
s+rule_fill_gradient(frequencia)
s<-s+rule_fill_gradient(frequencia)
plot(s)
View(s)
s
condformat(iris[1:5,])
condformat2widget(iris[1:5,])
?rule_fill_discrete
condformat2widget(iris)+rule_fill_discrete(Species)
condformat2widget(iris)+ rule_fill_discrete(Sepal.Length, expression=Sepal.Length > 4.6,
colours=c("TRUE"="red"))
condformat2widget(iris)
?duplicated
library(RSelenium)
vignette("RSelenium-docker", package = "RSelenium")
setwd("~/Documents/tjsp/data")
x<-readRDS("swp.rds")
setwd("~/Documents/tjsp")
devtools::use_data(x,stop_words.pt)
devtools::use_data(x,stop_words_pt)
devtools::use_data(x,stop_words_pt,overwrite = T)
devtools::use_data(x,stop_words_pt,overwrite = T)
library(devtools)
?use_data
stop_words_pt<-x
use_data(stop_words_pt)
packrat::restore(prompt = FALSE)
s<-c("a","b","c")
s1<-c("a","b")
limpa<-function(texto){
require(dplyr)
text<-stringi::stri_trans_general(texto,"Latin-ASCII")
text<-tolower(text)
text<-stringr::str_replace_all(text,"")
text<-tm::removePunctuation(text)
text<-tm::stripWhitespace(text)
text<-tim:removeNumbers(text)
return(text)
}
document()
library(roxygen2)
install.packages("roxygen2")
document()
library(roxygen2)
document()
??document
library(devtools)
document()
document()
install.packages("TM")
document()
install.packages("tm")
document()
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
setwd("~/Documents/Bubu")
setwd("~/Documents/Bubu")
library(tjsp)
df<-read("df.rds")
df<-readRDS("df.rds")
limpar
View(df)
s<-limpar(df$ementa)
class(df$ementa)
s<-limpar(as.character(df$ementa))
limpar
devtools::install_github("jjesusfilho/tjsp")
setwd("~/Documents/tjsp/R")
setwd("~/Documents/tjsp")
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
s<-limpar(df$ementa)
library(tm)
s<-limpar(df$ementa)
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
s<-limpar(df$ementa)
s
devtools::install_github("hilaryparker/explainr")
library(explainr)
f<-m <- lm(mpg ~ wt + mpg, mtcars)
explainr::explain(m)
m <- lm(mpg ~ wt + mpg, mtcars)
explainr::explain(m)
explainr::explain(m,"visual")
library(tm)
?stopwords()
library(tjsp)
setwd("~/Documents/Bubu")
df<-readRDS("df.rds")
s<-limpar(df$ementa)
s
s[[1]]
s2<-removeWords(s,stopwords(kind="pt"))
s2
s<-pricomp(iris[1:4])
s<-princomp(iris[1:4])
s
class(s)
explainr::explain(s)
library(textclean)
install.packages("textclean")
cleanPt<-function(x,lower=T,stopwords=T,accent=T,punctuation=T,whitespace=T,numbers=T,ordinal=T){
if (lower)
x<-tolower(x)
if (stopwords)
x<=tm::removeWords(x,stopword(kind="pt"))
if (accent)
x<-stringi::stri_trans_general(x,"Latin-ASCII")
if (punctuation)
x = str_replace_all(x,"[[:punct:]]", "")
if (whitespace) {
x = str_replace_all(x,"[ \t]{2,}", " ")
x = str_replace_all(x,"^\\s+|\\s+$", "")
}
if(numbers)
x<-str_replace_all(x,"[[:digit:]]","")
if (ordinal)
x<-str_replace_all(x,"(º|ª)","")
return(x)
}
a<-"arrroz . ), favor de suspiro 123,"
cleanPt(a)
cleanPt<-function(x,lower=T,stopwords=T,accent=T,punctuation=T,whitespace=T,numbers=T,ordinal=T){
if (lower)
x<-tolower(x)
if (stopwords)
x<=tm::removeWords(x,tm::stopword(kind="pt"))
if (accent)
x<-stringi::stri_trans_general(x,"Latin-ASCII")
if (punctuation)
x = str_replace_all(x,"[[:punct:]]", "")
if (whitespace) {
x = str_replace_all(x,"[ \t]{2,}", " ")
x = str_replace_all(x,"^\\s+|\\s+$", "")
}
if(numbers)
x<-str_replace_all(x,"[[:digit:]]","")
if (ordinal)
x<-str_replace_all(x,"(º|ª)","")
return(x)
}
cleanPt(a)
cleanPt<-function(x,lower=T,stopwords=T,accent=T,punctuation=T,whitespace=T,numbers=T,ordinal=T){
if (lower)
x<-tolower(x)
if (stopwords)
x<=tm::removeWords(x,tm::stopwords(kind="pt"))
if (accent)
x<-stringi::stri_trans_general(x,"Latin-ASCII")
if (punctuation)
x = str_replace_all(x,"[[:punct:]]", "")
if (whitespace) {
x = str_replace_all(x,"[ \t]{2,}", " ")
x = str_replace_all(x,"^\\s+|\\s+$", "")
}
if(numbers)
x<-str_replace_all(x,"[[:digit:]]","")
if (ordinal)
x<-str_replace_all(x,"(º|ª)","")
return(x)
}
cleanPt(a)
library(stringr)
cleanPt(a)
a
a<-"arroz favor de suspiro jdajjdiajdijado  DAJDADJAKDJALKDJ      123º"
cleanPt(a)
library(roxygen2)
library(devtools)
document()
warnings()
document()
document()
document()
document()
document()
document()
document()
document()
library(tjsp)
a<-"maria djkjdklajldk IIII123"
clearPt(a)
?tjsg_meta
?tjsg_meta
?clearPt
?clearPt
setwd("~/Documents/tjsp")
setwd("~/Documents/tjsp")
271*14
matriz<- matrix(3794,nrow=5)
matriz
matriz<- matrix(1:3794,nrow=14)
matriz
matriz[sample(1:length(matriz),50,replace=FALSE)]<-NA
matriz
length(matriz)
matriz<- matrix(1:3794,ncol=14)
matriz[sample(1:length(matriz),50,replace=FALSE)]<-NA
matriz
library(boilerpipeR)
url <- "http://blog.rstudio.org/2014/05/09/reshape2-1-4/"
maintext <- ArticleExtractor(url, asText = FALSE)
cat(maintext)
url <- "http://josejesus.info"
maintext <- ArticleExtractor(url, asText = FALSE)
maintext
url<-"http://www1.folha.uol.com.br/poder/2017/03/1867833-odebrecht-diz-ter-acertado-repasse-de-r-50-milhoes-a-aecio.shtml"
maintext <- ArticleExtractor(url, asText = FALSE)
maintext
cat(maintext)
library(rvest)
s<-read_html("http://www.numeros.mg.gov.br/QvAJAXZfc/opendoc.htm?document=MapaResultados.qvw&host=QVS%40vm13532&anonymous=true&Sheet=SHCrimesViolentos") %>%
html_table()
s
s<-read_html("http://www.numeros.mg.gov.br/QvAJAXZfc/opendoc.htm?document=MapaResultados.qvw&host=QVS%40vm13532&anonymous=true&Sheet=SHCrimesViolentos") %>%
html_node(css=".QvGrid")
html_text()
s<-read_html("http://www.numeros.mg.gov.br/QvAJAXZfc/opendoc.htm?document=MapaResultados.qvw&host=QVS%40vm13532&anonymous=true&Sheet=SHCrimesViolentos") %>%
html_node(css=".QvGrid") %>%
html_text()
setwd("~/Downloads/BOLETINS")
s<-list.files()
mat <- matrix(rnorm(20),4,5)
mat
vec <- c(1.3297993, -0.9285670,  0.7635935, -0.2992151,  0.4356833)
mat[3,]
vec
mat==vec
identical(c(2,3),c(2,3))
identical(mat[3,],t(vec))
r<-identical(linha,t(vetor))
r<-identical(mat[3,],t(vec))
r
verificar<-function(linha, vetor){
r<-identical(linha,t(vetor))
return(r)
}
verificar(mat[3,],vec)
is.element(c(2,3),c(3,4))
s<-mat[3,]
s
mat
class(s)
mat <- matrix(rnorm(20),4,5)
vec <- c(1.3297993, -0.9285670,  0.7635935, -0.2992151,  0.4356833)
mat
set.seed(000)
mat <- matrix(rnorm(20),4,5)
vec <- c(1.3297993, -0.9285670,  0.7635935, -0.2992151,  0.4356833)
mat[3,]
set.seed(000)
mat <- matrix(rnorm(20),4,5)
vec <- c(1.3297993, -0.9285670,  0.7635935, -0.2992151,  0.4356833)
identical(mat[3,],vec)
identical(mat[3,],t(vec))
set.seed(000)
mat <- matrix(rnorm(20),4,5)
vec <- c(1.3297993, -0.9285670,  0.7635935, -0.2992151,  0.4356833)
mat[3,]
identical(mat[3,],t(vec))
identical(mat[3,],vec)
mat[3,]
class(mat[3,])
class(vec)
identical(t(mat[3,]),vec)
identical(t(mat[3,]),vec)
identical(t(mat[3,]),vec)
identical(t(mat[3,]),vec)
identical(t(mat[3,]),vec)
identical(t(mat[3,]),vec)
identical(t(mat[3,]),t(vec))
s<-mat[3,]
s
identical(s,vec)
vec
s
mode(s)
mode(vec)
is.element(s,vec)
?identical
identical(s,vec,num.eq=F)
identical(s,vec,num.eq=T)
identical(vec,s)
identical(vec,s)
identical(vec,s)
mat <- matrix(rnorm(20),4,5)
vec <- c(1.3297993, -0.9285670,  0.7635935, -0.2992151,  0.4356833)
mat
mat[3,]
set.seed(000)
mat <- matrix(rnorm(20),4,5)
vec <- c(1.3297993, -0.9285670,  0.7635935, -0.2992151,  0.4356833)
mat[3,]
mat[3,]
mat[2,]
identical(vec,s)
is.element(vec,mat[3,])
as.character(vec)
as.character(mat[3,])
?httr::GET
f<-function (livre, classes = "", inicio = "", fim = "") {
set_config(config(ssl_verifypeer = FALSE))
body <- list(dados.buscaInteiroTeor = "", dados.pesquisarComSinonimos = "S",
dados.pesquisarComSinonimos = "S", dados.buscaEmenta = "",
dados.nuProcOrigem = "", dados.nuRegistro = "", agenteSelectedEntitiesList = "",
contadoragente = "0", contadorMaioragente = "0", codigoCr = "",
codigoTr = "", nmAgente = "", juizProlatorSelectedEntitiesList = "",
contadorjuizProlator = "0", contadorMaiorjuizProlator = "0",
codigoJuizCr = "", codigoJuizTr = "", nmJuiz = "", classesTreeSelection.values = "",
classesTreeSelection.text = "", assuntosTreeSelection.values = "",
assuntosTreeSelection.text = "", comarcaSelectedEntitiesList = "",
contadorcomarca = "0", contadorMaiorcomarca = "0", cdComarca = "",
nmComarca = "", secoesTreeSelection.values = "", secoesTreeSelection.text = "1",
dados.dtJulgamentoInicio = "", dados.dtJulgamentoFim = "",
dados.dtRegistroInicio = "", dados.dtRegistroFim = "",
dados.origensSelecionadas = "T", tipoDecisaoSelecionados = "A",
dados.ordenacao = "data")
body[[1]] <- livre
body[[19]]<-413
body[[20]] <- classes
body[[30]] <- inicio
body[[31]] <- fim
a <- POST("https://esaj.tjsp.jus.br/cjsg/resultadoCompleta.do",
body = body)
b <- htmlParse(content(a, as = "text"), encoding = "UTF-8")
val <- xmlGetAttr(getNodeSet(b, "//*[@id='totalResultadoAba-A']")[[1]],
"value")
num <- as.numeric(val)
max_pag <- ceiling(num/20)
df <- data.frame()
for (i in 1:max_pag) {
tryCatch({
c <- GET(paste0("https://esaj.tjsp.jus.br/cjsg/trocaDePagina.do?tipoDeDecisao=A&pagina=",
i), set_cookies(unlist(a$cookies)))
d <- htmlParse(content(c, as = "text"), encoding = "UTF-8")
aC <- xpathSApply(d, "//*[@class=\"assuntoClasse\"]",
xmlValue, trim = T)
assunto.processo <- str_trim(str_extract(aC, ".*?(?=/)"))
assunto.materia <- str_trim(str_extract(aC, "(?<=/\\s{0,100}).*"))
relator <- xpathSApply(d, "//*[@class=\"ementaClass2\"][1]",
xmlValue, trim = T)
comarca <- xpathSApply(d, "//*[@class=\"ementaClass2\"][2]",
xmlValue, trim = T)
orgao.julgador <- xpathSApply(d, "//*[@class=\"ementaClass2\"][3]",
xmlValue, trim = T)
data.julgamento <- xpathSApply(d, "//*[@class=\"ementaClass2\"][4]",
xmlValue, trim = T)
data.registro <- xpathSApply(d, "//*[@class=\"ementaClass2\"][5]",
xmlValue, trim = T)
ementa <- xpathSApply(d, "//textarea", xmlValue,
trim = T)
processo <- xpathSApply(d, "//*[@class=\"esajLinkLogin downloadEmenta\"]",
xmlValue, trim = T)
cdacordao <- xpathSApply(d, "//*[@class=\"downloadEmenta\"]",
xmlAttrs, trim = T)[2, ]
df1 <- data.frame(pagina = i, assunto.processo, assunto.materia,
relator, comarca, orgao.julgador, data.julgamento,
data.registro, processo, ementa, cdacordao)
df <- rbind(df, df1)
}, error = function(m) {
m
}, finally = {
next
})
sys.sleep(2)
}
return(df)
}
df<-f("Indulto")
library(httr)
library(XML)
library(stringr)
df<-f("Indulto")
setwd("~/Documents/Bubu")
df<-readRDS("df.rds")
View(df)
View(df)
names(df)
df$ementa[1]
library(devtools)
library(roxygen2)
document()
document()
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
?rm_dup
library(rstudioapi)
?tjsp_meta
library(tjsp)
?tjsp_meta
?tjsg_meta
comutacao<-tjsg_meta("comutação",'\"Agravo de Execução Penal\"')
devtools::install_github('ThiagoInocencio/TransparenciaFederal')
devtools::install_github('ThiagoInocencio/TransparenciaFederal')
library(devtools)
setwd("~/Documents")
devtools::install_github("jjesusfilho/tjsp")
library(tjsp)
df<-tjsg_meta("audiência de custódia",quote = T)
install.packages("curl")
install.packages("curl")
df<-tjsg_meta("audiência de custódia",quote = T)
library(tjsp)
df<-tjsg_meta("audiência de custódia",quote = T)
df<-tjsg_meta("audiência de custódia",quote = T)
install.packages("curl")
install.packages("curl")
library(tjsp)
df<-tjsg_meta("audiência de custódia",quote = T)
set_config(config(ssl_verifypeer = FALSE ))
df<-tjsg_meta("audiência de custódia",quote = T)
df<-tjsg_meta("audiência de custódia",quote = T)
install.packages("curl")
install.packages("curl")
library(culr)
library(curl)
library(curl)
library(tjsp)
df<-tjsg_meta("audiência de custódia",quote = T)
install.packages(c("choroplethr", "corpcor", "directlabels", "fftwtools", "filehash", "imputeTS", "jsonlite", "lattice", "matrixStats", "mets", "pdftools", "qdapRegex", "qgraph", "RandomFieldsUtils", "rmarkdown", "RWeka", "RWekajars", "sf", "shiny", "sigr", "sourcetools", "survival", "units", "V8", "webp"))
install.packages(c("animation", "bestglm", "bootstrap", "broom", "choroplethrAdmin1", "chron", "classifierplots", "cluster", "curl", "data.table", "DBI", "dendextend", "e1071", "epitools", "FactoMineR", "fit.models", "gdtools", "ggiraph", "ggpubr", "ggsci", "jsonlite", "lattice", "lavaan", "leaflet", "lmtest", "maptools", "mclust", "mgcv", "mvtnorm", "nlme", "OpenMx", "openxlsx", "pbkrtest", "psych", "Rcpp", "RcppEigen", "readr", "rgdal", "rgeos", "rgl", "rmapshaper", "rmarkdown", "RMySQL", "roxygen2", "RSelenium", "rvg", "scatterplot3d", "shapes", "shiny", "sjmisc", "sjstats", "SparseM", "spdep", "stringi", "stringr", "survival", "tau", "textcat", "tibble", "topicmodels", "tseries", "viridis", "viridisLite", "XML"), lib="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
s<-ts(1:200)
s
s<-ts(1:200,12)
s
?ts
s<-ts(1:200,frequency=12,start=(1954,2))
s<-ts(1:200,frequency=12,start=c(1954,2))
s
tapply(s,cycle(ts),mean)
tapply(s,cycle(s),mean)
cycle(s)
t(s)
s1<-tapply(s,cycle(s),mean)
t(s1)
s1<-aggregate(c(s), list(month = cycle(s)), mean)
s1
class(s1)
s %>% group_by(cycle(ts)) %>% mean()
library(tidyverse)
s %>% group_by(cycle(ts)) %>% mean()
s %>% group_by(cycle(s)) %>% mean()
s1<-as.data.frame(s)
View(s1)
library(lubridate)
s1<-as.POSIXct(s)
a<-"http://www.tjsp.jus.br/PortalTJ3/Paginas/Pesquisas/VEC/Pesquisa.aspx"
u<-"https://esaj.tjsp.jus.br/cposg/search.do?conversationId=&paginaConsulta=1&localPesquisa.cdLocal=4&cbPesquisa=NUMPROC&tipoNuProcesso=UNIFICADO&numeroDigitoAnoUnificado=9000295-90.2016&foroNumeroUnificado=0625&dePesquisaNuUnificado=9000295-90.2016.8.26.0625&dePesquisa=&uuidCaptcha=&pbEnviar=Pesquisar"
b<-GET(u)
library(httr)
b<-GET(u)
library(RCurl)
b<-getURL(u)
?getURL
b<-getURL(u,ssl.verifypeer = FALSE)
b<-getURL(u,ssl.verifypeer = FALSE)
